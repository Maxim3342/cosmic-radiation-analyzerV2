import streamlit as st

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
st.set_page_config(
    page_title="–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ä–∞–¥–∏–∞—Ü–∏–∏ –≤ –∫–æ—Å–º–æ—Å–µ",
    page_icon="‚ò¢Ô∏è",
    layout="centered",
    initial_sidebar_state="collapsed"
)

# –ö–∞—Å—Ç–æ–º–Ω—ã–π CSS –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
st.markdown("""
    <style>
    .main-header {
        font-size: 2.5rem;
        text-align: center;
        margin-bottom: 3rem;
        color: white;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    .center-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1rem;
    }
    .stButton button {
        width: 200px;
        background-color: #4CAF50;
        color: white;
        font-size: 1.2rem;
        height: 3em;
        border: none;
        border-radius: 10px;
        font-weight: bold;
    }
    .stButton button:hover {
        background-color: #45a049;
        border: 2px solid #2E8B57;
    }
    .info-text {
        font-size: 1.3rem;
        text-align: center;
        margin: 2rem;
        color: white;
        line-height: 1.5;
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    /* –î–µ–ª–∞–µ–º —Ñ–æ–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º (–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º) */
    .stApp {
        background: transparent;
    }
    </style>
    """, unsafe_allow_html=True)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π
if 'current_page' not in st.session_state:
    st.session_state.current_page = 'main'

# –§—É–Ω–∫—Ü–∏—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
def show_main_menu():
    st.markdown('<h1 class="main-header">–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ä–∞–¥–∏–∞—Ü–∏–∏ –≤ –∫–æ—Å–º–æ—Å–µ</h1>', unsafe_allow_html=True)
    
    # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫
    st.markdown('<div class="center-container">', unsafe_allow_html=True)
    
    if st.button('üéÆ –ò–≥—Ä–∞', use_container_width=False):
        st.session_state.current_page = 'game'
        st.rerun()
        
    if st.button('üìö –¢–µ–æ—Ä–∏—è', use_container_width=False):
        st.session_state.current_page = 'theory'
        st.rerun()
        
    if st.button('‚ùì –ß—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç?', use_container_width=False):
        st.session_state.current_page = 'about'
        st.rerun()
    
    st.markdown('</div>', unsafe_allow_html=True)

# –§—É–Ω–∫—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–≥—Ä—ã
def show_game():
    st.markdown('<p class="info-text">Coming soon...</p>', unsafe_allow_html=True)
    if st.button('‚Üê –ù–∞–∑–∞–¥', key='back_game'):
        st.session_state.current_page = 'main'
        st.rerun()

# –§—É–Ω–∫—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–æ—Ä–∏–∏
def show_theory():
    st.markdown('<p class="info-text">–¢—É—Ç –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø–æ–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Ä–∞–¥–∏–∞—Ü–∏–∏ –∏ —Å–ø–æ—Å–æ–±—ã –∑–∞—â–∏—Ç—ã –æ—Ç –Ω–µ–µ</p>', unsafe_allow_html=True)
    
    # –°—Å—ã–ª–∫–∞ –≤ –≤–∏–¥–µ –∫–Ω–æ–ø–∫–∏
    st.markdown(
        '<div style="text-align: center; margin: 2rem;">'
        '<a href="https://www.vokrugsveta.ru/articles/nevidimaya-ugroza-na-puti-k-drugim-planetam-chto-takoe-kosmicheskaya-radiaciya-i-kak-ot-nee-zashititsya-id6255282" target="_blank" style="display: inline-block; padding: 0.7em 2em; background-color: #4CAF50; color: white; text-decoration: none; border-radius: 10px; font-size: 1.2rem; font-weight: bold;">–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–æ—Ä–∏—è</a>'
        '</div>',
        unsafe_allow_html=True
    )
    
    if st.button('‚Üê –ù–∞–∑–∞–¥', key='back_theory'):
        st.session_state.current_page = 'main'
        st.rerun()

# –§—É–Ω–∫—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–û –ø—Ä–æ–µ–∫—Ç–µ"
def show_about():
    st.markdown("""
    <div class="info-text">
    –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –º–∏–Ω–∏-–∏–≥—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Ä–∞–¥–∏–∞—Ü–∏–∏ –∏ –∫–∞–∫ —Å –Ω–µ–π –±–æ—Ä—é—Ç—Å—è –∫–æ—Å–º–æ–Ω–∞–≤—Ç—ã. 
    –≠—Ç–æ —Ç–µ–º–∞ –≤–∞–∂–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –∑–∞ –∫–æ—Å–º–æ—Å–æ–º –Ω–∞—à–µ –±—É–¥—É—â–µ–µ
    </div>
    """, unsafe_allow_html=True)
    
    if st.button('‚Üê –ù–∞–∑–∞–¥', key='back_about'):
        st.session_state.current_page = 'main'
        st.rerun()

# –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
if st.session_state.current_page == 'main':
    show_main_menu()
elif st.session_state.current_page == 'game':
    show_game()
elif st.session_state.current_page == 'theory':
    show_theory()
elif st.session_state.current_page == 'about':
    show_about()
